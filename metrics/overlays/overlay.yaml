overlay: 1.0.0
info:
  title: Overlay to change the merged OpenAPI Spec 
  version: 1.0.0
actions:
  - target: $["paths"]["/v2/chains"]["get"][?(@['servers'][0]['url'] == 'https://popsicle-api.avax.network' || @['servers'][0]['url'] == 'https://metrics.avax.network')]["responses"]["200"]["content"]["application/json"]["schema"]
    description: Change the response schema for the /v2/chains endpoint in popsicle to avoid a merger conflict with Popsicle API Spec
    update:
      $ref: "#/components/schemas/MetricsListChainsResponse"
  - target: $.paths.*.*[?(@.deprecated == true)]
    description: Remove all deprecated paths
    remove: true
  - target: $.paths['/v2/lookingGlass/compositeQuery']
    description: Remove the /v2/lookingGlass/compositeQuery path
    remove: true
  - target: $.paths['/v1/lookingGlass/compositeQuery']
    description: Remove the /v1/lookingGlass/compositeQuery path
    remove: true